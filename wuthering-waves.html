<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Wuthering Waves - 鸣潮版本更新记录">
    <title>Wuthering Waves - Blooming AI</title>
    <link rel="icon" type="image/png" href="images/Dino-Hawk_Circle.png">
    <link rel="apple-touch-icon" href="images/Dino-Hawk_Circle.png">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <h1>
            <a href="index.html" style="color: inherit; text-decoration: none;">Blooming AI</a>
        </h1>
        <img src="images/Dino-Hawk_Circle.png" alt="Dino-Hawk Logo">
    </header>

    <div class="scroll-container" id="wwContainer">
        <!-- 页面将通过 JavaScript 动态生成 -->
    </div>

    <!-- 页面指示器 -->
    <div class="page-indicators" id="pageIndicators"></div>

    <script>
        const wutheringWavesImages = [
            'images/WutheringWaves/1.0「鸣潮往复，文明不屈」.jpg',
            'images/WutheringWaves/1.1「往岁乘霄醒惊蛰」.jpg',
            'images/WutheringWaves/1.2「天上月华人如愿」.jpg',
            'images/WutheringWaves/1.3「行至海岸尽头」.jpg',
            'images/WutheringWaves/1.4「暗夜叩响白昼之门」.jpg',
            'images/WutheringWaves/2.0「致缄默以欢歌」.jpg',
            'images/WutheringWaves/2.1「飞鸟轻鸣，浪涛欢唱」.jpg',
            'images/WutheringWaves/2.2「真伪倒悬于高塔」.jpg',
            'images/WutheringWaves/2.3「焰行夏曲庆“团”圆」.jpg',
            'images/WutheringWaves/2.4「轻掷欢呼之冕」.jpg',
            'images/WutheringWaves/2.5「生命不灭的轻歌」.jpg',
            'images/WutheringWaves/2.6「日以灼锋，月以流明」.jpg',
            'images/WutheringWaves/2.7「暗潮将映的黎明」.jpg',
            'images/WutheringWaves/2.8「奔往琥珀之都」.jpg'
        ];

        const container = document.getElementById('wwContainer');

        // 为每张图片创建一个全屏页面
        wutheringWavesImages.forEach((imagePath, index) => {
            const section = document.createElement('section');
            section.className = 'bg-section';
            section.style.backgroundImage = `url('${imagePath}')`;

            container.appendChild(section);
        });

        // 创建页面指示器小点
        const indicatorsContainer = document.getElementById('pageIndicators');
        wutheringWavesImages.forEach((_, index) => {
            const dot = document.createElement('div');
            dot.className = 'page-dot';
            dot.onclick = () => {
                currentPage = index;
                sections[currentPage].scrollIntoView({ behavior: 'smooth' });
                updateIndicators();
                resetAutoScroll();
            };
            indicatorsContainer.appendChild(dot);
        });

        // 添加键盘导航支持和自动滚动
        let currentPage = 0;
        const sections = container.querySelectorAll('section');
        const dots = document.querySelectorAll('.page-dot');
        let autoScrollTimer;

        // 更新页面指示器
        function updateIndicators() {
            dots.forEach((dot, index) => {
                if (index === currentPage) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }

        // 自动滚动到下一页
        function autoScrollNext() {
            currentPage = (currentPage + 1) % sections.length;
            sections[currentPage].scrollIntoView({ behavior: 'smooth' });
            updateIndicators();
        }

        // 启动自动滚动
        function startAutoScroll() {
            autoScrollTimer = setInterval(autoScrollNext, 10000); // 每10秒
        }

        // 重置自动滚动（用户操作后）
        function resetAutoScroll() {
            clearInterval(autoScrollTimer);
            startAutoScroll();
        }

        // 键盘导航
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowDown' || e.key === 'PageDown') {
                e.preventDefault();
                if (currentPage < sections.length - 1) {
                    currentPage++;
                } else {
                    currentPage = 0; // 最后一页回到第一页
                }
                sections[currentPage].scrollIntoView({ behavior: 'smooth' });
                updateIndicators();
                resetAutoScroll();
            } else if (e.key === 'ArrowUp' || e.key === 'PageUp') {
                e.preventDefault();
                if (currentPage > 0) {
                    currentPage--;
                } else {
                    currentPage = sections.length - 1; // 第一页回到最后一页
                }
                sections[currentPage].scrollIntoView({ behavior: 'smooth' });
                updateIndicators();
                resetAutoScroll();
            } else if (e.key === 'Home') {
                e.preventDefault();
                currentPage = 0;
                sections[currentPage].scrollIntoView({ behavior: 'smooth' });
                updateIndicators();
                resetAutoScroll();
            } else if (e.key === 'End') {
                e.preventDefault();
                currentPage = sections.length - 1;
                sections[currentPage].scrollIntoView({ behavior: 'smooth' });
                updateIndicators();
                resetAutoScroll();
            }
        });

        // 鼠标滚轮事件也重置自动滚动
        container.addEventListener('wheel', () => {
            resetAutoScroll();
        }, { passive: true });

        // 启动自动滚动
        startAutoScroll();

        // 初始化指示器
        updateIndicators();

        // 监听滚动事件，更新当前页码
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    currentPage = Array.from(sections).indexOf(entry.target);
                    updateIndicators();
                }
            });
        }, { threshold: 0.5 });

        sections.forEach(section => observer.observe(section));
    </script>
</body>
</html>
